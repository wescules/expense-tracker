<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Spending Heatmap</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>

<script src="https://unpkg.com/cal-heatmap/dist/cal-heatmap.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/cal-heatmap/dist/cal-heatmap.css">
<script src="https://unpkg.com/@popperjs/core@2"></script>
<script src="https://unpkg.com/cal-heatmap/dist/plugins/Tooltip.min.js"></script>


</head>
<body>
  <h2>October 2025 Spending Heatmap</h2>
  <div id="cal-heatmap"></div>

  <!-- UMD build so CalHeatmap is available globally -->
  <script>
    const spendingData = [
      { date: "2025-10-01", value: 50 },
      { date: "2025-10-02", value: 120 },
      { date: "2025-10-05", value: 200 },
      { date: "2025-10-08", value: 60 },
      { date: "2025-10-12", value: 150 },
      { date: "2025-10-20", value: 90 },
      { date: "2025-10-25", value: 220 }
    ];

    

    const cal = new CalHeatmap();
    cal.paint(
      {
        theme: "light",
        itemSelector: "#cal-heatmap",
        range: 1,
        date: { start: new Date(2025, 10, 1) }, // October = month index 9
        domain: {
          type: 'month',
          padding: [10, 10, 10, 10],
          label: { position: 'top' },
        },
        subDomain: { type: 'xDay', radius: 2, width: 15, height: 15, label: 'D' },
        data: { 
          source: spendingData, 
          type: "json", 
          x: "date", 
          y: "value" 
        },
        scale: { color: { type: 'diverging', scheme: 'PRGn', domain: [-10, 15] } },
        legend: [50, 100, 150, 200, 250],
        tooltip: true
      },
  [
    [
      Tooltip,
      {
        text: function (date, value, dayjsDate) {
          return (
            (value ?  '$' + value : 'No data') + ' on ' + dayjsDate.format('LL')
          );
        },
      },
    ],
  ]
    );



 </script>
</body>
</html>
